<div class="min-h-screen flex flex-col items-center justify-center bg-green-50">
  <!-- Header -->
  <div class="text-center mb-8">
    <img
      src="favicon.png"
      alt="logo"
      class="w-32 h-32 mx-auto rounded-full bg-white p-4 shadow-lg"
    >
    <h1 class="text-3xl font-bold text-green-800 mt-4">Vivero Quilino</h1>
    <p class="text-green-600">Restablecer contraseña</p>
  </div>

  <!-- Card -->
  <div class="bg-white shadow-lg rounded-2xl p-8 w-80">
    <form
      [formGroup]="form"
      (ngSubmit)="submit()"
      class="flex flex-col gap-4"
    >
      <input
        id="password"
        type="password"
        formControlName="password"
        placeholder="Nueva contraseña"
        class="border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-600 outline-none"
      >

      <!-- Validación -->
      @if (form.controls.password.touched && form.controls.password.invalid) {
        <p class="text-sm text-red-600">
          La contraseña debe tener al menos 8 caracteres
        </p>
      }

      <button
        type="submit"
        [disabled]="loading || form.invalid"
        class="bg-green-600 text-white rounded-lg py-2 hover:bg-green-700 transition-all disabled:opacity-50"
      >
        @if (loading) {
          Guardando...
        } @else {
          Cambiar contraseña
        }
      </button>

      <a
        routerLink="/login"
        class="text-green-600 text-sm hover:underline text-center cursor-pointer"
      >
        Volver al inicio de sesión
      </a>
    </form>
  </div>

  <!-- Mensajes -->
  @if (error) {
    <div class="mt-4 px-4 py-2 rounded-lg bg-red-100 text-red-700 shadow">
      {{ error }}
    </div>
  }

  @if (success) {
    <div class="mt-4 px-4 py-2 rounded-lg bg-green-100 text-green-800 shadow">
      {{ success }}
    </div>
  }
</div>
