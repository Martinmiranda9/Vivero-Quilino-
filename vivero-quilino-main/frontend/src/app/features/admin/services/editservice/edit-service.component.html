<!-- Header contextual -->
<div admin-header class="sticky top-0 z-10 bg-[#F6FBF8] p-6 pb-3">
  <div class="flex items-center gap-4 justify-start">
    <a routerLink="/admin/services" class="flex items-center gap-2 text-[#0e1a13] hover:text-[#51946c] transition-colors">
      <span class="material-symbols-outlined text-xl">arrow_back</span>
      <span class="text-sm font-medium">Volver</span>
    </a>
    <div class="w-px h-6 bg-[#d1e6d9]"></div>
    <nav class="flex items-center gap-2 text-sm bg-[#F6FBF8] px-2 rounded">
      <a routerLink="/admin" class="text-[#4A5C52] hover:underline">Panel</a>
      <span class="material-symbols-outlined text-sm text-[#4A5C52]">chevron_right</span>
      <a routerLink="/admin/services" class="text-[#4A5C52] hover:underline">Lista de Servicios</a>
      <span class="material-symbols-outlined text-sm text-[#4A5C52]">chevron_right</span>
      <span class="text-[#1C2B21] font-bold">Editar Servicio</span>
    </nav>
  </div>
</div>

<!-- Loading -->
<div *ngIf="isLoading" class="flex items-center justify-center h-[calc(100vh-140px)]">
  <div class="text-center">
    <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-[#4B7D63] border-t-transparent"></div>
    <p class="mt-4 text-[#4A5C52] text-sm font-medium">Cargando servicio...</p>
  </div>
</div>

<!-- Formulario compartido -->
<app-service-form
  *ngIf="!isLoading && serviceData"
  mode="edit"
  [serviceId]="serviceId"
  [initialData]="serviceData"
  [externalSubmit]="true"
  #serviceFormRef
  (formSubmit)="onFormSubmit($event)"
  (formCancel)="onCancel()">
</app-service-form>
